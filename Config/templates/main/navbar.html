<!-- Barra de navegación principal -->
<header class="header">
    <!-- Contenedor que centra el contenido -->
    <div class="container">
        <!-- Logo de Greenity -->
        <div class="logo">
            <img src="{{ url_for('static', filename='img/LogoNavBar.jpg') }}" alt="Grennity Logo">
        </div>
        
        <!-- Menú de navegación principal -->
        <nav class="nav">
            <!-- Enlace a página de inicio -->
            <a href="{{ url_for('main') }}" class="nav-item {% if request.path == url_for('main') %}active{% endif %}">
                <i class="fas fa-home"></i>
                Inicio
            </a>
            
            <!-- Enlace al mapa de puntos de reciclaje -->
            <a href="{{ url_for('mapa') }}" class="nav-item {% if request.path == url_for('mapa') %}active{% endif %}">
                <i class="fas fa-map"></i>
                Mapa
            </a>
            
            <!-- Enlace a sección educativa -->
            <a href="{{ url_for('edu') }}" class="nav-item {% if request.path == url_for('edu') %}active{% endif %}">
                <i class="fas fa-book"></i>
                Educativo
            </a>
            
            <!-- Enlace para sugerir nuevos puntos de reciclaje -->
            <a href="{{ url_for('rec') }}" class="nav-item {% if request.path == url_for('rec') %}active{% endif %}">
                <i class="fas fa-plus"></i>
                Sugerir Punto
                <!-- Badge que indica función nueva -->
                <span class="new-badge">Nuevo</span>
            </a>
            
            <!-- Enlace a página de contacto -->
            <a href="{{ url_for('contacto') }}" class="nav-item {% if request.path == url_for('contacto') %}active{% endif %}">
                <i class="fas fa-phone"></i>
                Contacto
            </a>
            
            <!-- Enlace a configuración de usuario -->
            <a href="{{ url_for('config') }}" class="nav-item {% if request.path == url_for('config') %}active{% endif %}">
                <i class="fas fa-cog"></i>
                Configuración
            </a>
            
            <!-- Menú de usuario - Solo si está autenticado -->
            {% if session.user_authenticated %}
            <div class="user-menu">
                <!-- Información del usuario logueado -->
                <div class="user-info">
                    <i class="fas fa-user-circle"></i>
                    <!-- Muestra el nombre antes del @ del email -->
                    <span class="user-name">{{ session.user_email.split('@')[0] }}</span>
                </div>
                
                <!-- Menú desplegable del usuario -->
                <div class="user-dropdown">
                    <!-- Enlace al perfil -->
                    <a href="{{ url_for('config') }}" class="dropdown-item">
                        <i class="fas fa-cog"></i>
                        Mi Perfil
                    </a>
                    
                    <!-- Enlace para cerrar sesión -->
                    <a href="{{ url_for('logout') }}" class="dropdown-item">
                        <i class="fas fa-sign-out-alt"></i>
                        Cerrar Sesión
                    </a>
                </div>
            </div>
            
            <!-- Botón de login - Solo si NO está autenticado -->
            {% else %}
            <a href="{{ url_for('index') }}" class="login-btn">
                <i class="fas fa-user"></i>
                Iniciar Sesión
            </a>
            {% endif %}
        </nav>
    </div>
</header>